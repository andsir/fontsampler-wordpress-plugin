(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Fontsampler=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){var Fontsampler=require("fontsampler-js/dist/fontsampler");var FontsamplerSkin=require("fontsampler-js/dist/fontsampler-skin");window.addEventListener("load",function(){var fontsamplers=document.querySelectorAll(".fontsampler-wrapper");var options={rootClass:"fontsampler-wrapper",generate:false,lazyload:true,ui:{alignment:{label:false},fontfamily:{label:false},language:{label:false},opentype:{label:false},tester:{label:false}}};window.fontsamplers=[];window.fontsamplerSetup=function(node){var fs=new Fontsampler(node,false,options).init();FontsamplerSkin(fs);fs.init();var sampleTextSelect=fs.root.querySelector("select[name='sample-text']");if(sampleTextSelect){sampleTextSelect.addEventListener("change",function(){fs.setText(sampleTextSelect.value)})}var invertButtons=fs.root.querySelectorAll("[data-fsjs-block='invert'] button");if(invertButtons){for(var b=0;b<invertButtons.length;b++){if(b===0){invertButtons[b].className=invertButtons[b].className+" fsjs-button-selected"}invertButtons[b].addEventListener("click",onInvertClicked)}}function onInvertClicked(e){var selectedClass="fsjs-button-selected";jQuery(e.currentTarget).addClass(selectedClass).siblings().removeClass(selectedClass);jQuery(fs.root.querySelector(".fsjs-block-tester .current-font")).toggleClass("invert",e.currentTarget.dataset.choice==="negative")}var opentypeButton=fs.root.querySelector(".fontsampler-opentype-toggle");if(opentypeButton){opentypeButton.addEventListener("click",function(e){var modal=e.currentTarget.nextElementSibling;if(modal.className.indexOf("shown")===-1){modal.className=modal.className+" shown"}else{modal.className=modal.className.replace("shown","")}})}window.fontsamplers.push(fs)};if(fontsamplers.length>0){for(var i=0;i<fontsamplers.length;i++){window.fontsamplerSetup(fontsamplers[i])}}})},{"fontsampler-js/dist/fontsampler":3,"fontsampler-js/dist/fontsampler-skin":2}],2:[function(require,module,exports){(function(global){(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.FontsamplerSkin=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.dropkickjs=t():e.dropkickjs=t()}(this,function(){return function(e){function t(s){if(i[s])return i[s].exports;var a=i[s]={i:s,l:!1,exports:{}};return e[s].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,s){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),o=i(1),d=s(o),r=i(2),c=s(r),h=i(3),u=s(h),f=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),p=window.parent!==window.self,b=void 0,m=function(){function e(t,i){a(this,e),this.sel=t;var s=void 0,n=void 0,l=window.Dropkick;for("string"==typeof this.sel&&"#"===this.sel[0]&&(this.sel=document.getElementById(t.substr(1))),s=0;s<l.uid;s++)if((n=l.cache[s])instanceof e&&n.data.select===this.sel)return d.default.extend(n.data.settings,i),n;if(!this.sel)throw"You must pass a select to DropKick";if(this.sel.length<1)throw"You must have options inside your <select>: "+t;if("SELECT"===this.sel.nodeName)return this.init(this.sel,i)}return l(e,[{key:"init",value:function(t,i){var s,a=window.Dropkick,n=e.build(t,"dk"+a.uid);if(this.data={},this.data.select=t,this.data.elem=n.elem,this.data.settings=d.default.extend({},c.default,i),this.disabled=t.disabled,this.form=t.form,this.length=t.length,this.multiple=t.multiple,this.options=n.options.slice(0),this.selectedIndex=t.selectedIndex,this.selectedOptions=n.selected.slice(0),this.value=t.value,this.data.cacheID=a.uid,a.cache[this.data.cacheID]=this,this.data.settings.initialize.call(this),a.uid+=1,this._changeListener||(t.addEventListener("change",this),this._changeListener=!0),!f||this.data.settings.mobile){if(t.parentNode.insertBefore(this.data.elem,t),t.setAttribute("data-dkCacheId",this.data.cacheID),this.data.elem.addEventListener("click",this),this.data.elem.addEventListener("keydown",this),this.data.elem.addEventListener("keypress",this),this.form&&this.form.addEventListener("reset",this),!this.multiple)for(s=0;s<this.options.length;s++)this.options[s].addEventListener("mouseover",this);b||(document.addEventListener("click",e.onDocClick),p&&parent.document.addEventListener("click",e.onDocClick),b=!0)}return this}},{key:"add",value:function(e,t){var i,s,a;"string"==typeof e&&(i=e,e=document.createElement("option"),e.text=i),"OPTION"===e.nodeName&&(s=d.default.create("li",{class:"dk-option","data-value":e.value,text:e.text,innerHTML:e.innerHTML,role:"option","aria-selected":"false",id:"dk"+this.data.cacheID+"-"+(e.id||e.value.replace(" ","-"))}),d.default.addClass(s,e.className),this.length+=1,e.disabled&&(d.default.addClass(s,"dk-option-disabled"),s.setAttribute("aria-disabled","true")),e.hidden&&(d.default.addClass(s,"dk-option-hidden"),s.setAttribute("aria-hidden","true")),this.data.select.add(e,t),"number"==typeof t&&(t=this.item(t)),a=this.options.indexOf(t),a>-1?(t.parentNode.insertBefore(s,t),this.options.splice(a,0,s)):(this.data.elem.lastChild.appendChild(s),this.options.push(s)),s.addEventListener("mouseover",this),e.selected&&this.select(a))}},{key:"item",value:function(e){return e=e<0?this.options.length+e:e,this.options[e]||null}},{key:"remove",value:function(e){var t=this.item(e);t.parentNode.removeChild(t),this.options.splice(e,1),this.data.select.remove(e),this.select(this.data.select.selectedIndex),this.length-=1}},{key:"close",value:function(){var e,t=this.data.elem;if(!this.isOpen||this.multiple)return!1;for(e=0;e<this.options.length;e++)d.default.removeClass(this.options[e],"dk-option-highlight");t.lastChild.setAttribute("aria-expanded","false"),d.default.removeClass(t.lastChild,"dk-select-options-highlight"),d.default.removeClass(t,"dk-select-open-(up|down)"),this.isOpen=!1,this.data.settings.close.call(this)}},{key:"open",value:function(){var e=void 0,t=void 0,i=void 0,s=void 0,a=void 0,n=void 0,l=this.data.elem,o=l.lastChild,r=void 0!==window.pageXOffset,c="CSS1Compat"===(document.compatMode||""),h=r?window.pageYOffset:c?document.documentElement.scrollTop:document.body.scrollTop;if(a=d.default.offset(l).top-h,n=window.innerHeight-(a+l.offsetHeight),this.isOpen||this.multiple)return!1;o.style.display="block",e=o.offsetHeight,o.style.display="",t=a>e,i=n>e,s=t&&!i?"-up":"-down",this.isOpen=!0,d.default.addClass(l,"dk-select-open"+s),o.setAttribute("aria-expanded","true"),this._scrollTo(this.options.length-1),this._scrollTo(this.selectedIndex),this.data.settings.open.call(this)}},{key:"disable",value:function(e,t){var i="dk-option-disabled";0!==arguments.length&&"boolean"!=typeof e||(t=void 0===e,e=this.data.elem,i="dk-select-disabled",this.disabled=t),void 0===t&&(t=!0),"number"==typeof e&&(e=this.item(e)),t?(e.setAttribute("aria-disabled",!0),d.default.addClass(e,i)):(e.setAttribute("aria-disabled",!1),d.default.removeClass(e,i))}},{key:"hide",value:function(e,t){void 0===t&&(t=!0),e=this.item(e),t?(e.setAttribute("aria-hidden",!0),d.default.addClass(e,"dk-option-hidden")):(e.setAttribute("aria-hidden",!1),d.default.removeClass(e,"dk-option-hidden"))}},{key:"select",value:function(e,t){var i,s,a,n,l=this.data.select;if("number"==typeof e&&(e=this.item(e)),"string"==typeof e)for(i=0;i<this.length;i++)this.options[i].getAttribute("data-value")===e&&(e=this.options[i]);return!(!e||"string"==typeof e||!t&&d.default.hasClass(e,"dk-option-disabled"))&&(d.default.hasClass(e,"dk-option")?(s=this.options.indexOf(e),a=l.options[s],this.multiple?(d.default.toggleClass(e,"dk-option-selected"),a.selected=!a.selected,d.default.hasClass(e,"dk-option-selected")?(e.setAttribute("aria-selected","true"),this.selectedOptions.push(e)):(e.setAttribute("aria-selected","false"),s=this.selectedOptions.indexOf(e),this.selectedOptions.splice(s,1))):(n=this.data.elem.firstChild,this.selectedOptions.length&&(d.default.removeClass(this.selectedOptions[0],"dk-option-selected"),this.selectedOptions[0].setAttribute("aria-selected","false")),d.default.addClass(e,"dk-option-selected"),e.setAttribute("aria-selected","true"),n.setAttribute("aria-activedescendant",e.id),n.className="dk-selected "+a.className,n.innerHTML=a.innerHTML,this.selectedOptions[0]=e,a.selected=!0),this.selectedIndex=l.selectedIndex,this.value=l.value,t||this.data.select.dispatchEvent(new u.default("change",{bubbles:this.data.settings.bubble})),e):void 0)}},{key:"selectOne",value:function(e,t){return this.reset(!0),this._scrollTo(e),this.select(e,t)}},{key:"search",value:function(e,t){var i,s,a,n,l,o,d,r,c=this.data.select.options,h=[];if(!e)return this.options;for(t=t?t.toLowerCase():"strict",t="fuzzy"===t?2:"partial"===t?1:0,r=new RegExp((t?"":"^")+e,"i"),i=0;i<c.length;i++)if(a=c[i].text.toLowerCase(),2==t){for(s=e.toLowerCase().split(""),n=l=o=d=0;l<a.length;)a[l]===s[n]?(o+=1+o,n++):o=0,d+=o,l++;n===s.length&&h.push({e:this.options[i],s:d,i:i})}else r.test(a)&&h.push(this.options[i]);return 2===t&&(h=h.sort(function(e,t){return t.s-e.s||e.i-t.i}).reduce(function(e,t){return e[e.length]=t.e,e},[])),h}},{key:"focus",value:function(){this.disabled||(this.multiple?this.data.elem:this.data.elem.children[0]).focus()}},{key:"reset",value:function(e){var t,i=this.data.select;for(this.selectedOptions.length=0,t=0;t<i.options.length;t++)i.options[t].selected=!1,d.default.removeClass(this.options[t],"dk-option-selected"),this.options[t].setAttribute("aria-selected","false"),!e&&i.options[t].defaultSelected&&this.select(t,!0);this.selectedOptions.length||this.multiple||this.select(0,!0)}},{key:"refresh",value:function(){Object.keys(this).length>0&&(!f||this.data.settings.mobile)&&this.dispose().init(this.data.select,this.data.settings)}},{key:"dispose",value:function(){var e=window.Dropkick;return Object.keys(this).length>0&&(!f||this.data.settings.mobile)&&(delete e.cache[this.data.cacheID],this.data.elem.parentNode.removeChild(this.data.elem),this.data.select.removeAttribute("data-dkCacheId")),this}},{key:"handleEvent",value:function(e){if(!this.disabled)switch(e.type){case"click":this._delegate(e);break;case"keydown":this._keyHandler(e);break;case"keypress":this._searchOptions(e);break;case"mouseover":this._highlight(e);break;case"reset":this.reset();break;case"change":this.data.settings.change.call(this)}}},{key:"_delegate",value:function(e){var t,i,s,a,n=e.target;if(d.default.hasClass(n,"dk-option-disabled"))return!1;if(this.multiple){if(d.default.hasClass(n,"dk-option"))if(t=window.getSelection(),"Range"===t.type&&t.collapseToStart(),e.shiftKey)if(s=this.options.indexOf(this.selectedOptions[0]),a=this.options.indexOf(this.selectedOptions[this.selectedOptions.length-1]),i=this.options.indexOf(n),i>s&&i<a&&(i=s),i>a&&a>s&&(a=s),this.reset(!0),a>i)for(;i<a+1;)this.select(i++);else for(;i>a-1;)this.select(i--);else e.ctrlKey||e.metaKey?this.select(n):(this.reset(!0),this.select(n))}else this[this.isOpen?"close":"open"](),d.default.hasClass(n,"dk-option")&&this.select(n)}},{key:"_highlight",value:function(e){var t,i=e.target;if(!this.multiple){for(t=0;t<this.options.length;t++)d.default.removeClass(this.options[t],"dk-option-highlight");d.default.addClass(this.data.elem.lastChild,"dk-select-options-highlight"),d.default.addClass(i,"dk-option-highlight")}}},{key:"_keyHandler",value:function(e){var t,i,s=this.selectedOptions,a=this.options,n=1,l={tab:9,enter:13,esc:27,space:32,up:38,down:40};switch(e.keyCode){case l.up:n=-1;case l.down:if(e.preventDefault(),t=s[s.length-1],d.default.hasClass(this.data.elem.lastChild,"dk-select-options-highlight"))for(d.default.removeClass(this.data.elem.lastChild,"dk-select-options-highlight"),i=0;i<a.length;i++)d.default.hasClass(a[i],"dk-option-highlight")&&(d.default.removeClass(a[i],"dk-option-highlight"),t=a[i]);n=a.indexOf(t)+n,n>a.length-1?n=a.length-1:n<0&&(n=0),this.data.select.options[n].disabled||(this.reset(!0),this.select(n),this._scrollTo(n));break;case l.space:if(!this.isOpen){e.preventDefault(),this.open();break}case l.tab:case l.enter:for(n=0;n<a.length;n++)d.default.hasClass(a[n],"dk-option-highlight")&&this.select(n);case l.esc:this.isOpen&&(e.preventDefault(),this.close())}}},{key:"_searchOptions",value:function(e){var t,i=this,s=String.fromCharCode(e.keyCode||e.which);void 0===this.data.searchString&&(this.data.searchString=""),function(){i.data.searchTimeout&&clearTimeout(i.data.searchTimeout),i.data.searchTimeout=setTimeout(function(){i.data.searchString=""},1e3)}(),this.data.searchString+=s,t=this.search(this.data.searchString,this.data.settings.search),t.length&&(d.default.hasClass(t[0],"dk-option-disabled")||this.selectOne(t[0]))}},{key:"_scrollTo",value:function(e){var t,i,s,a=this.data.elem.lastChild;if(-1===e||"number"!=typeof e&&!e||!this.isOpen&&!this.multiple)return!1;"number"==typeof e&&(e=this.item(e)),t=d.default.position(e,a).top,i=t-a.scrollTop,s=i+e.offsetHeight,s>a.offsetHeight?(t+=e.offsetHeight,a.scrollTop=t-a.offsetHeight):i<0&&(a.scrollTop=t)}}]),e}();window.Dropkick=m,window.Dropkick.cache={},window.Dropkick.uid=0,m.build=function(e,t){var i,s,a,n=[],l={elem:null,options:[],selected:[]},o=function e(i){var s,a,n,o,r=[];switch(i.nodeName){case"OPTION":s=d.default.create("li",{class:"dk-option ","data-value":i.value,text:i.text,innerHTML:i.innerHTML,role:"option","aria-selected":"false",id:t+"-"+(i.id||i.value.replace(" ","-"))}),d.default.addClass(s,i.className),i.disabled&&(d.default.addClass(s,"dk-option-disabled"),s.setAttribute("aria-disabled","true")),i.hidden&&(d.default.addClass(s,"dk-option-hidden"),s.setAttribute("aria-hidden","true")),i.selected&&(d.default.addClass(s,"dk-option-selected"),s.setAttribute("aria-selected","true"),l.selected.push(s)),l.options.push(this.appendChild(s));break;case"OPTGROUP":for(a=d.default.create("li",{class:"dk-optgroup"}),i.label&&a.appendChild(d.default.create("div",{class:"dk-optgroup-label",innerHTML:i.label})),n=d.default.create("ul",{class:"dk-optgroup-options"}),o=i.children.length;o--;r.unshift(i.children[o]));i.disabled&&(a.classList.add("dk-optgroup-disabled"),r.forEach(function(e){e.disabled=i.disabled})),r.forEach(e,n),this.appendChild(a).appendChild(n)}};for(l.elem=d.default.create("div",{class:"dk-select"+(e.multiple?"-multi":"")}),s=d.default.create("ul",{class:"dk-select-options",id:t+"-listbox",role:"listbox"}),e.disabled&&(d.default.addClass(l.elem,"dk-select-disabled"),l.elem.setAttribute("aria-disabled",!0)),l.elem.id=t+(e.id?"-"+e.id:""),d.default.addClass(l.elem,e.className),e.multiple?(l.elem.setAttribute("tabindex",e.getAttribute("tabindex")||"0"),s.setAttribute("aria-multiselectable","true")):(i=e.options[e.selectedIndex],l.elem.appendChild(d.default.create("div",{class:"dk-selected "+(i?i.className:""),tabindex:e.tabindex||0,innerHTML:i?i.text:"&nbsp;",id:t+"-combobox","aria-live":"assertive","aria-owns":s.id,role:"combobox"})),s.setAttribute("aria-expanded","false")),a=e.children.length;a--;n.unshift(e.children[a]));return n.forEach(o,l.elem.appendChild(s)),l},m.onDocClick=function(e){var t,i,s=window.Dropkick;if(1!==e.target.nodeType)return!1;null!==(t=e.target.getAttribute("data-dkcacheid"))&&s.cache[t].focus();for(i in s.cache)d.default.closest(e.target,s.cache[i].data.elem)||i===t||s.cache[i].disabled||s.cache[i].close()},void 0!==window.jQuery&&(window.jQuery.fn.dropkick=function(){var e=Array.prototype.slice.call(arguments);return jQuery(this).each(function(){e[0]&&"object"!==n(e[0])?"string"==typeof e[0]&&m.prototype[e[0]].apply(new m(this),e.slice(1)):new m(this,e[0]||{})})}),t.default=m},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=-1!==navigator.appVersion.indexOf("MSIE"),a={hasClass:function(e,t){var i=new RegExp("(^|\\s+)"+t+"(\\s+|$)");return e&&i.test(e.className)},addClass:function(e,t){e&&!this.hasClass(e,t)&&(e.className+=" "+t)},removeClass:function(e,t){var i=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e&&(e.className=e.className.replace(i," "))},toggleClass:function(e,t){[(this.hasClass(e,t)?"remove":"add")+"Class"](e,t)},extend:function(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t)for(var i in t)e[i]=t[i]}),e},offset:function(e){var t=e.getBoundingClientRect()||{top:0,left:0},i=document.documentElement,a=s?i.scrollTop:window.pageYOffset,n=s?i.scrollLeft:window.pageXOffset;return{top:t.top+a-i.clientTop,left:t.left+n-i.clientLeft}},position:function(e,t){for(var i={top:0,left:0};e&&e!==t;)i.top+=e.offsetTop,i.left+=e.offsetLeft,e=e.parentNode;return i},closest:function(e,t){for(;e;){if(e===t)return e;e=e.parentNode}return!1},create:function(e,t){var i=void 0,s=document.createElement(e);t||(t={});for(i in t)t.hasOwnProperty(i)&&("innerHTML"===i?s.innerHTML=t[i]:s.setAttribute(i,t[i]));return s},deferred:function(e){return function(){var t=this,i=arguments;window.setTimeout(function(){e.apply(t,i)},1)}}};t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={initialize:function(){},mobile:!0,change:function(){},open:function(){},close:function(){},search:"strict",bubble:!0};t.default=s},function(e,t,i){(function(t){var i=t.CustomEvent;e.exports=function(){try{var e=new i("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?i:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var i=document.createEvent("CustomEvent");return t?i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):i.initCustomEvent(e,!1,!1,void 0),i}:function(e,t){var i=document.createEventObject();return i.type=e,t?(i.bubbles=Boolean(t.bubbles),i.cancelable=Boolean(t.cancelable),i.detail=t.detail):(i.bubbles=!1,i.cancelable=!1,i.detail=void 0),i}}).call(t,i(4))},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i}])})},{}],2:[function(_dereq_,module,exports){(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory();else if(typeof define==="function"&&define.amd)define("rangeSlider",[],factory);else if(typeof exports==="object")exports["rangeSlider"]=factory();else root["rangeSlider"]=factory()})(window,function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s="./src/range-slider.js")}({"./src/range-slider.css":function(module,exports,__webpack_require__){},"./src/range-slider.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _dom=__webpack_require__("./src/utils/dom.js");var dom=_interopRequireWildcard(_dom);var _functions=__webpack_require__("./src/utils/functions.js");var func=_interopRequireWildcard(_functions);__webpack_require__("./src/range-slider.css");function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var newLineAndTabRegexp=new RegExp("/[\\n\\t]/","g");var MAX_SET_BY_DEFAULT=100;var HANDLE_RESIZE_DELAY=300;var HANDLE_RESIZE_DEBOUNCE=50;var pluginName="rangeSlider";var inputrange=dom.supportsRange();var defaults={polyfill:true,rangeClass:"rangeSlider",disabledClass:"rangeSlider--disabled",fillClass:"rangeSlider__fill",bufferClass:"rangeSlider__buffer",handleClass:"rangeSlider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"],min:null,max:null,step:null,value:null,buffer:null,stick:null,borderRadius:10,vertical:false};var RangeSlider=function(){function RangeSlider(element,options){_classCallCheck(this,RangeSlider);var minSetByDefault=void 0;var maxSetByDefault=void 0;var stepSetByDefault=void 0;var stickAttribute=void 0;var stickValues=void 0;this.element=element;this.options=func.simpleExtend(defaults,options);this.polyfill=this.options.polyfill;this.vertical=this.options.vertical;this.onInit=this.options.onInit;this.onSlide=this.options.onSlide;this.onSlideStart=this.options.onSlideStart;this.onSlideEnd=this.options.onSlideEnd;this.onSlideEventsCount=-1;this.isInteractsNow=false;this.needTriggerEvents=false;if(!this.polyfill){if(inputrange){return}}this.options.buffer=this.options.buffer||parseFloat(this.element.getAttribute("data-buffer"));this.identifier="js-"+pluginName+"-"+func.uuid();this.min=func.getFirsNumberLike(this.options.min,parseFloat(this.element.getAttribute("min")),minSetByDefault=0);this.max=func.getFirsNumberLike(this.options.max,parseFloat(this.element.getAttribute("max")),maxSetByDefault=MAX_SET_BY_DEFAULT);this.value=func.getFirsNumberLike(this.options.value,this.element.value,parseFloat(this.element.value||this.min+(this.max-this.min)/2));this.step=func.getFirsNumberLike(this.options.step,parseFloat(this.element.getAttribute("step"))||(stepSetByDefault=1));this.percent=null;if(func.isArray(this.options.stick)&&this.options.stick.length>=1){this.stick=this.options.stick}else if(stickAttribute=this.element.getAttribute("stick")){stickValues=stickAttribute.split(" ");if(stickValues.length>=1){this.stick=stickValues.map(parseFloat)}}if(this.stick&&this.stick.length===1){this.stick.push(this.step*1.5)}this._updatePercentFromValue();this.toFixed=this._toFixed(this.step);var directionClass=void 0;this.container=document.createElement("div");dom.addClass(this.container,this.options.fillClass);directionClass=this.vertical?this.options.fillClass+"__vertical":this.options.fillClass+"__horizontal";dom.addClass(this.container,directionClass);this.handle=document.createElement("div");dom.addClass(this.handle,this.options.handleClass);directionClass=this.vertical?this.options.handleClass+"__vertical":this.options.handleClass+"__horizontal";dom.addClass(this.handle,directionClass);this.range=document.createElement("div");dom.addClass(this.range,this.options.rangeClass);this.range.id=this.identifier;if(this.options.bufferClass){this.buffer=document.createElement("div");dom.addClass(this.buffer,this.options.bufferClass);this.range.appendChild(this.buffer);directionClass=this.vertical?this.options.bufferClass+"__vertical":this.options.bufferClass+"__horizontal";dom.addClass(this.buffer,directionClass)}this.range.appendChild(this.container);this.range.appendChild(this.handle);directionClass=this.vertical?this.options.rangeClass+"__vertical":this.options.rangeClass+"__horizontal";dom.addClass(this.range,directionClass);if(func.isNumberLike(this.options.value)){this._setValue(this.options.value,true);this.element.value=this.options.value}if(func.isNumberLike(this.options.buffer)){this.element.setAttribute("data-buffer",this.options.buffer)}if(func.isNumberLike(this.options.min)||minSetByDefault){this.element.setAttribute("min",""+this.min)}if(func.isNumberLike(this.options.max)||maxSetByDefault){this.element.setAttribute("max",""+this.max)}if(func.isNumberLike(this.options.step)||stepSetByDefault){this.element.setAttribute("step",""+this.step)}dom.insertAfter(this.element,this.range);dom.setCss(this.element,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"});this._handleDown=this._handleDown.bind(this);this._handleMove=this._handleMove.bind(this);this._handleEnd=this._handleEnd.bind(this);this._startEventListener=this._startEventListener.bind(this);this._changeEventListener=this._changeEventListener.bind(this);this._handleResize=this._handleResize.bind(this);this._init();window.addEventListener("resize",this._handleResize,false);dom.addEventListeners(document,this.options.startEvent,this._startEventListener);this.element.addEventListener("change",this._changeEventListener,false)}_createClass(RangeSlider,[{key:"update",value:function update(obj,triggerEvents){if(triggerEvents){this.needTriggerEvents=true}if(func.isObject(obj)){if(func.isNumberLike(obj.min)){this.element.setAttribute("min",""+obj.min);this.min=obj.min}if(func.isNumberLike(obj.max)){this.element.setAttribute("max",""+obj.max);this.max=obj.max}if(func.isNumberLike(obj.step)){this.element.setAttribute("step",""+obj.step);this.step=obj.step;this.toFixed=this._toFixed(obj.step)}if(func.isNumberLike(obj.buffer)){this._setBufferPosition(obj.buffer)}if(func.isNumberLike(obj.value)){this._setValue(obj.value)}}this._update();this.onSlideEventsCount=0;this.needTriggerEvents=false;return this}},{key:"destroy",value:function destroy(){dom.removeAllListenersFromEl(this,document);window.removeEventListener("resize",this._handleResize,false);this.element.removeEventListener("change",this._changeEventListener,false);this.element.style.cssText="";delete this.element[pluginName];if(this.range){this.range.parentNode.removeChild(this.range)}}},{key:"_toFixed",value:function _toFixed(step){return(step+"").replace(".","").length-1}},{key:"_init",value:function _init(){if(this.onInit&&typeof this.onInit==="function"){this.onInit()}this._update()}},{key:"_updatePercentFromValue",value:function _updatePercentFromValue(){this.percent=(this.value-this.min)/(this.max-this.min)}},{key:"_startEventListener",value:function _startEventListener(ev,data){var _this=this;var el=ev.target;var isEventOnSlider=false;if(ev.which!==1&&!("touches"in ev)){return}dom.forEachAncestors(el,function(el){return isEventOnSlider=el.id===_this.identifier&&!dom.hasClass(el,_this.options.disabledClass)},true);if(isEventOnSlider){this._handleDown(ev,data)}}},{key:"_changeEventListener",value:function _changeEventListener(ev,data){if(data&&data.origin===this.identifier){return}var value=ev.target.value;var pos=this._getPositionFromValue(value);this._setPosition(pos)}},{key:"_update",value:function _update(){var sizeProperty=this.vertical?"offsetHeight":"offsetWidth";this.handleSize=dom.getDimension(this.handle,sizeProperty);this.rangeSize=dom.getDimension(this.range,sizeProperty);this.maxHandleX=this.rangeSize-this.handleSize;this.grabX=this.handleSize/2;this.position=this._getPositionFromValue(this.value);if(this.element.disabled){dom.addClass(this.range,this.options.disabledClass)}else{dom.removeClass(this.range,this.options.disabledClass)}this._setPosition(this.position);if(this.options.bufferClass&&this.options.buffer){this._setBufferPosition(this.options.buffer)}this._updatePercentFromValue();dom.triggerEvent(this.element,"change",{origin:this.identifier})}},{key:"_handleResize",value:function _handleResize(){var _this2=this;return func.debounce(function(){func.delay(function(){_this2._update()},HANDLE_RESIZE_DELAY)},HANDLE_RESIZE_DEBOUNCE)()}},{key:"_handleDown",value:function _handleDown(e){this.isInteractsNow=true;e.preventDefault();dom.addEventListeners(document,this.options.moveEvent,this._handleMove);dom.addEventListeners(document,this.options.endEvent,this._handleEnd);if((" "+e.target.className+" ").replace(newLineAndTabRegexp," ").indexOf(this.options.handleClass)>-1){return}var boundingClientRect=this.range.getBoundingClientRect();var posX=this._getRelativePosition(e);var rangeX=this.vertical?boundingClientRect.bottom:boundingClientRect.left;var handleX=this._getPositionFromNode(this.handle)-rangeX;var position=posX-this.grabX;this._setPosition(position);if(posX>=handleX&&posX<handleX+this.options.borderRadius*2){this.grabX=posX-handleX}this._updatePercentFromValue()}},{key:"_handleMove",value:function _handleMove(e){var posX=this._getRelativePosition(e);this.isInteractsNow=true;e.preventDefault();this._setPosition(posX-this.grabX)}},{key:"_handleEnd",value:function _handleEnd(e){e.preventDefault();dom.removeEventListeners(document,this.options.moveEvent,this._handleMove);dom.removeEventListeners(document,this.options.endEvent,this._handleEnd);dom.triggerEvent(this.element,"change",{origin:this.identifier});if(this.isInteractsNow||this.needTriggerEvents){if(this.onSlideEnd&&typeof this.onSlideEnd==="function"){this.onSlideEnd(this.value,this.percent,this.position)}}this.onSlideEventsCount=0;this.isInteractsNow=false}},{key:"_setPosition",value:function _setPosition(pos){var position=void 0;var stickRadius=void 0;var restFromValue=void 0;var stickTo=void 0;var value=this._getValueFromPosition(func.between(pos,0,this.maxHandleX));if(this.stick){stickTo=this.stick[0];stickRadius=this.stick[1]||.1;restFromValue=value%stickTo;if(restFromValue<stickRadius){value=value-restFromValue}else if(Math.abs(stickTo-restFromValue)<stickRadius){value=value-restFromValue+stickTo}}position=this._getPositionFromValue(value);if(this.vertical){this.container.style.height=position+this.grabX+"px";this.handle.style["webkitTransform"]="translateY(-"+position+"px)";this.handle.style["msTransform"]="translateY(-"+position+"px)";this.handle.style.transform="translateY(-"+position+"px)"}else{this.container.style.width=position+this.grabX+"px";this.handle.style["webkitTransform"]="translateX("+position+"px)";this.handle.style["msTransform"]="translateX("+position+"px)";this.handle.style.transform="translateX("+position+"px)"}this._setValue(value);this.position=position;this.value=value;this._updatePercentFromValue();if(this.isInteractsNow||this.needTriggerEvents){if(this.onSlideStart&&typeof this.onSlideStart==="function"&&this.onSlideEventsCount===0){this.onSlideStart(this.value,this.percent,this.position)}if(this.onSlide&&typeof this.onSlide==="function"){this.onSlide(this.value,this.percent,this.position)}}this.onSlideEventsCount++}},{key:"_setBufferPosition",value:function _setBufferPosition(pos){var isPercent=true;if(isFinite(pos)){pos=parseFloat(pos)}else if(func.isString(pos)){if(pos.indexOf("px")>0){isPercent=false}pos=parseFloat(pos)}else{console.warn("New position must be XXpx or XX%");return}if(isNaN(pos)){console.warn("New position is NaN");return}if(!this.options.bufferClass){console.warn("You disabled buffer, it's className is empty");return}var bufferSize=isPercent?pos:pos/this.rangeSize*100;if(bufferSize<0){bufferSize=0}if(bufferSize>100){bufferSize=100}this.options.buffer=bufferSize;var paddingSize=this.options.borderRadius/this.rangeSize*100;var bufferSizeWithPadding=bufferSize-paddingSize;if(bufferSizeWithPadding<0){bufferSizeWithPadding=0}if(this.vertical){this.buffer.style.height=bufferSizeWithPadding+"%";this.buffer.style.bottom=paddingSize*.5+"%"}else{this.buffer.style.width=bufferSizeWithPadding+"%";this.buffer.style.left=paddingSize*.5+"%"}this.element.setAttribute("data-buffer",bufferSize)}},{key:"_getPositionFromNode",value:function _getPositionFromNode(node){var i=this.vertical?this.maxHandleX:0;while(node!==null){i+=this.vertical?node.offsetTop:node.offsetLeft;node=node.offsetParent}return i}},{key:"_getRelativePosition",value:function _getRelativePosition(e){var boundingClientRect=this.range.getBoundingClientRect();var rangeSize=this.vertical?boundingClientRect.bottom:boundingClientRect.left;var pageOffset=0;var pagePositionProperty=this.vertical?"pageY":"pageX";if(typeof e[pagePositionProperty]!=="undefined"){pageOffset=e.touches&&e.touches.length?e.touches[0][pagePositionProperty]:e[pagePositionProperty]}else if(typeof e.originalEvent!=="undefined"){if(typeof e.originalEvent[pagePositionProperty]!=="undefined"){pageOffset=e.originalEvent[pagePositionProperty]}else if(e.originalEvent.touches&&e.originalEvent.touches[0]&&typeof e.originalEvent.touches[0][pagePositionProperty]!=="undefined"){pageOffset=e.originalEvent.touches[0][pagePositionProperty]}}else if(e.touches&&e.touches[0]&&typeof e.touches[0][pagePositionProperty]!=="undefined"){pageOffset=e.touches[0][pagePositionProperty]}else if(e.currentPoint&&(typeof e.currentPoint.x!=="undefined"||typeof e.currentPoint.y!=="undefined")){pageOffset=this.vertical?e.currentPoint.y:e.currentPoint.x}if(this.vertical){pageOffset-=window.pageYOffset}return this.vertical?rangeSize-pageOffset:pageOffset-rangeSize}},{key:"_getPositionFromValue",value:function _getPositionFromValue(value){var percentage=(value-this.min)/(this.max-this.min);var pos=percentage*this.maxHandleX;return isNaN(pos)?0:pos}},{key:"_getValueFromPosition",value:function _getValueFromPosition(pos){var percentage=pos/(this.maxHandleX||1);var value=this.step*Math.round(percentage*(this.max-this.min)/this.step)+this.min;return Number(value.toFixed(this.toFixed))}},{key:"_setValue",value:function _setValue(value,force){if(value===this.value&&!force){return}this.element.value=value;this.value=value;dom.triggerEvent(this.element,"input",{origin:this.identifier})}}],[{key:"create",value:function create(el,options){var createInstance=function createInstance(el){var data=el[pluginName];if(!data){data=new RangeSlider(el,options);el[pluginName]=data}};if(el.length){Array.prototype.slice.call(el).forEach(function(el){createInstance(el)})}else{createInstance(el)}}}]);return RangeSlider}();exports.default=RangeSlider;module.exports=exports["default"]},"./src/utils/dom.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.supportsRange=exports.removeAllListenersFromEl=exports.removeEventListeners=exports.addEventListeners=exports.insertAfter=exports.triggerEvent=exports.forEachAncestors=exports.removeClass=exports.addClass=exports.hasClass=exports.setCss=exports.getDimension=exports.getHiddenParentNodes=exports.isHidden=exports.detectIE=undefined;var _functions=__webpack_require__("./src/utils/functions.js");var func=_interopRequireWildcard(_functions);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}var EVENT_LISTENER_LIST="eventListenerList";var detectIE=exports.detectIE=function detectIE(){var ua=window.navigator.userAgent;var msie=ua.indexOf("MSIE ");if(msie>0){return parseInt(ua.substring(msie+5,ua.indexOf(".",msie)),10)}var trident=ua.indexOf("Trident/");if(trident>0){var rv=ua.indexOf("rv:");return parseInt(ua.substring(rv+3,ua.indexOf(".",rv)),10)}var edge=ua.indexOf("Edge/");if(edge>0){return parseInt(ua.substring(edge+5,ua.indexOf(".",edge)),10)}return false};var ieVersion=detectIE();var eventCaptureParams=window.PointerEvent&&!ieVersion?{passive:false}:false;var isHidden=exports.isHidden=function isHidden(element){return element.offsetWidth===0||element.offsetHeight===0||element.open===false};var getHiddenParentNodes=exports.getHiddenParentNodes=function getHiddenParentNodes(element){var parents=[];var node=element.parentNode;while(isHidden(node)){parents.push(node);node=node.parentNode}return parents};var getDimension=exports.getDimension=function getDimension(element,key){var hiddenParentNodes=getHiddenParentNodes(element);var hiddenParentNodesLength=hiddenParentNodes.length;var hiddenParentNodesStyle=[];var dimension=element[key];var toggleOpenProperty=function toggleOpenProperty(element){if(typeof element.open!=="undefined"){element.open=!element.open}};if(hiddenParentNodesLength){for(var i=0;i<hiddenParentNodesLength;i++){hiddenParentNodesStyle.push({display:hiddenParentNodes[i].style.display,height:hiddenParentNodes[i].style.height,overflow:hiddenParentNodes[i].style.overflow,visibility:hiddenParentNodes[i].style.visibility});hiddenParentNodes[i].style.display="block";hiddenParentNodes[i].style.height="0";hiddenParentNodes[i].style.overflow="hidden";hiddenParentNodes[i].style.visibility="hidden";toggleOpenProperty(hiddenParentNodes[i])}dimension=element[key];for(var j=0;j<hiddenParentNodesLength;j++){toggleOpenProperty(hiddenParentNodes[j]);hiddenParentNodes[j].style.display=hiddenParentNodesStyle[j].display;hiddenParentNodes[j].style.height=hiddenParentNodesStyle[j].height;hiddenParentNodes[j].style.overflow=hiddenParentNodesStyle[j].overflow;hiddenParentNodes[j].style.visibility=hiddenParentNodesStyle[j].visibility}}return dimension};var setCss=exports.setCss=function setCss(el,cssObj){for(var key in cssObj){el.style[key]=cssObj[key]}return el.style};var hasClass=exports.hasClass=function hasClass(elem,className){return new RegExp(" "+className+" ").test(" "+elem.className+" ")};var addClass=exports.addClass=function addClass(elem,className){if(!hasClass(elem,className)){elem.className+=" "+className}};var removeClass=exports.removeClass=function removeClass(elem,className){var newClass=" "+elem.className.replace(/[\t\r\n]/g," ")+" ";if(hasClass(elem,className)){while(newClass.indexOf(" "+className+" ")>=0){newClass=newClass.replace(" "+className+" "," ")}elem.className=newClass.replace(/^\s+|\s+$/g,"")}};var forEachAncestors=exports.forEachAncestors=function forEachAncestors(el,callback,andForElement){if(andForElement){callback(el)}while(el.parentNode&&!callback(el)){el=el.parentNode}return el};var triggerEvent=exports.triggerEvent=function triggerEvent(el,name,data){if(!func.isString(name)){throw new TypeError("event name must be String")}if(!(el instanceof HTMLElement)){throw new TypeError("element must be HTMLElement")}name=name.trim();var event=document.createEvent("CustomEvent");event.initCustomEvent(name,false,false,data);el.dispatchEvent(event)};var insertAfter=exports.insertAfter=function insertAfter(referenceNode,newNode){return referenceNode.parentNode.insertBefore(newNode,referenceNode.nextSibling)};var addEventListeners=exports.addEventListeners=function addEventListeners(el,events,listener){events.forEach(function(eventName){if(!el[EVENT_LISTENER_LIST]){el[EVENT_LISTENER_LIST]={}}if(!el[EVENT_LISTENER_LIST][eventName]){el[EVENT_LISTENER_LIST][eventName]=[]}el.addEventListener(eventName,listener,eventCaptureParams);if(el[EVENT_LISTENER_LIST][eventName].indexOf(listener)<0){el[EVENT_LISTENER_LIST][eventName].push(listener)}})};var removeEventListeners=exports.removeEventListeners=function removeEventListeners(el,events,listener){events.forEach(function(eventName){var index=void 0;el.removeEventListener(eventName,listener,false);if(el[EVENT_LISTENER_LIST]&&el[EVENT_LISTENER_LIST][eventName]&&(index=el[EVENT_LISTENER_LIST][eventName].indexOf(listener))>-1){el[EVENT_LISTENER_LIST][eventName].splice(index,1)}})};var removeAllListenersFromEl=exports.removeAllListenersFromEl=function removeAllListenersFromEl(instance,el){if(!el[EVENT_LISTENER_LIST]){return}function rm(listener){if(listener===instance._startEventListener){this.el.removeEventListener(this.eventName,listener,false)}}for(var eventName in el[EVENT_LISTENER_LIST]){el[EVENT_LISTENER_LIST][eventName].forEach(rm,{eventName:eventName,el:el})}el[EVENT_LISTENER_LIST]={}};var supportsRange=exports.supportsRange=function supportsRange(){var input=document.createElement("input");input.setAttribute("type","range");return input.type!=="text"}},"./src/utils/functions.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var uuid=exports.uuid=function uuid(){var s4=function s4(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)};return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()};var delay=exports.delay=function delay(fn,wait){for(var _len=arguments.length,args=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++){args[_key-2]=arguments[_key]}return setTimeout(function(){return fn.apply(null,args)},wait)};var debounce=exports.debounce=function debounce(fn){var debounceDuration=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;return function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}if(!fn.debouncing){fn.lastReturnVal=fn.apply(window,args);fn.debouncing=true}clearTimeout(fn.debounceTimeout);fn.debounceTimeout=setTimeout(function(){fn.debouncing=false},debounceDuration);return fn.lastReturnVal}};var isString=exports.isString=function isString(obj){return obj===""+obj};var isArray=exports.isArray=function isArray(obj){return Object.prototype.toString.call(obj)==="[object Array]"};var isNumberLike=exports.isNumberLike=function isNumberLike(obj){return obj!==null&&obj!==undefined&&(isString(obj)&&isFinite(parseFloat(obj))||isFinite(obj))};var getFirsNumberLike=exports.getFirsNumberLike=function getFirsNumberLike(){for(var _len3=arguments.length,args=Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3]}if(!args.length){return null}for(var i=0,len=args.length;i<len;i++){if(isNumberLike(args[i])){return args[i]}}return null};var isObject=exports.isObject=function isObject(obj){return Object.prototype.toString.call(obj)==="[object Object]"};var simpleExtend=exports.simpleExtend=function simpleExtend(defaultOpt,options){var opt={};for(var key in defaultOpt){opt[key]=defaultOpt[key]}for(var _key4 in options){opt[_key4]=options[_key4]}return opt};var between=exports.between=function between(pos,min,max){if(pos<min){return min}if(pos>max){return max}return pos}}})})},{}],3:[function(_dereq_,module,exports){var events={init:"fontsampler.events.init"};module.exports=events},{}],4:[function(_dereq_,module,exports){function pruneClass(className,classNames){if(!classNames){return""}classNames=classNames.trim();if(!className){return classNames}className=className.trim();var classes=classNames.split(" "),classIndex=classes.indexOf(className);if(classIndex!==-1){classes.splice(classIndex,1)}if(classes.length>0){return classes.join(" ")}else{return""}}function addClass(className,classNames){if(!classNames){classNames=""}classNames=classNames.trim();if(!className){return classNames}className=className.trim();var classes=classNames.split(" "),classIndex=classes.indexOf(className);if(classIndex===-1){if(classNames){return classNames+" "+className}else{return className}}else{return classNames}}function nodeAddClass(node,className){if(!isNode(node)||typeof className!=="string"){return false}node.className=addClass(className,node.className);return true}function nodeAddClasses(node,classes){if(!isNode(node)||!Array.isArray(classes)||classes.length<1){return false}for(var c=0;c<classes.length;c++){node.className=addClass(classes[c],node.className)}return true}function nodeRemoveClass(node,className){if(!isNode(node)||typeof className!=="string"){return false}node.className=pruneClass(className,node.className);return true}function isNode(node){return typeof node==="object"&&node!==null&&"nodeType"in node}module.exports={nodeAddClass:nodeAddClass,nodeAddClasses:nodeAddClasses,nodeRemoveClass:nodeRemoveClass,isNode:isNode}},{}],5:[function(_dereq_,module,exports){var rangeSlider=_dereq_("../node_modules/rangeslider-pure/dist/range-slider");var Dropkick=_dereq_("../node_modules/dropkickjs/dist/dropkick").default;var events=_dereq_("./events");var helpers=_dereq_("./helpers");function Skin(FS){FS.registerEventhandler(events.init,init);function init(){console.debug("Skin.init()",FS,FS.initialized);if(FS.initialized===true){console.error(FS.root);throw new Error("FontsamplerSkin: Cannot apply skin to a Fontsampler that is already initialized.")}helpers.nodeAddClass(FS.root,"fsjs-skin");var rangeInputs=FS.root.querySelectorAll("input[type=range][data-fsjs]");if(rangeInputs.length){rangeSlider.create(rangeInputs,{polyfill:true,onSlide:updateSlider,onSlideEnd:updateSlider})}var selectInputs=FS.root.querySelectorAll("select[data-fsjs]");if(selectInputs.length){for(var i in selectInputs){if(selectInputs.hasOwnProperty(i)){new Dropkick(selectInputs[i],{mobile:true})}}}}function updateSlider(position){var key=this.element.dataset.fsjs,label=FS.root.querySelector("[data-fsjs-for='"+key+"'] .fsjs-label-value");FS.root.dispatchEvent(new CustomEvent("fontsampler.on"+key+"changed"));if(label){label.textContent=position}}}module.exports=Skin},{"../node_modules/dropkickjs/dist/dropkick":1,"../node_modules/rangeslider-pure/dist/range-slider":2,"./events":3,"./helpers":4}]},{},[5])(5)})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],3:[function(require,module,exports){(function(global){(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Fontsampler=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){"use strict";var hasOwn=Object.prototype.hasOwnProperty;var toStr=Object.prototype.toString;var defineProperty=Object.defineProperty;var gOPD=Object.getOwnPropertyDescriptor;var isArray=function isArray(arr){if(typeof Array.isArray==="function"){return Array.isArray(arr)}return toStr.call(arr)==="[object Array]"};var isPlainObject=function isPlainObject(obj){if(!obj||toStr.call(obj)!=="[object Object]"){return false}var hasOwnConstructor=hasOwn.call(obj,"constructor");var hasIsPrototypeOf=obj.constructor&&obj.constructor.prototype&&hasOwn.call(obj.constructor.prototype,"isPrototypeOf");if(obj.constructor&&!hasOwnConstructor&&!hasIsPrototypeOf){return false}var key;for(key in obj){}return typeof key==="undefined"||hasOwn.call(obj,key)};var setProperty=function setProperty(target,options){if(defineProperty&&options.name==="__proto__"){defineProperty(target,options.name,{enumerable:true,configurable:true,value:options.newValue,writable:true})}else{target[options.name]=options.newValue}};var getProperty=function getProperty(obj,name){if(name==="__proto__"){if(!hasOwn.call(obj,name)){return void 0}else if(gOPD){return gOPD(obj,name).value}}return obj[name]};module.exports=function extend(){var options,name,src,copy,copyIsArray,clone;var target=arguments[0];var i=1;var length=arguments.length;var deep=false;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2}if(target==null||typeof target!=="object"&&typeof target!=="function"){target={}}for(;i<length;++i){options=arguments[i];if(options!=null){for(name in options){src=getProperty(target,name);copy=getProperty(options,name);if(target!==copy){if(deep&&copy&&(isPlainObject(copy)||(copyIsArray=isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&isArray(src)?src:[]}else{clone=src&&isPlainObject(src)?src:{}}setProperty(target,{name:name,newValue:extend(deep,clone,copy)})}else if(typeof copy!=="undefined"){setProperty(target,{name:name,newValue:copy})}}}}}return target}},{}],2:[function(_dereq_,module,exports){(function(){function l(a,b){document.addEventListener?a.addEventListener("scroll",b,!1):a.attachEvent("scroll",b)}function m(a){document.body?a():document.addEventListener?document.addEventListener("DOMContentLoaded",function c(){document.removeEventListener("DOMContentLoaded",c);a()}):document.attachEvent("onreadystatechange",function k(){if("interactive"==document.readyState||"complete"==document.readyState)document.detachEvent("onreadystatechange",k),a()})}function t(a){this.a=document.createElement("div");this.a.setAttribute("aria-hidden","true");this.a.appendChild(document.createTextNode(a));this.b=document.createElement("span");this.c=document.createElement("span");this.h=document.createElement("span");this.f=document.createElement("span");this.g=-1;this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;";this.b.appendChild(this.h);this.c.appendChild(this.f);this.a.appendChild(this.b);this.a.appendChild(this.c)}function u(a,b){a.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+b+";"}function z(a){var b=a.a.offsetWidth,c=b+100;a.f.style.width=c+"px";a.c.scrollLeft=c;a.b.scrollLeft=a.b.scrollWidth+100;return a.g!==b?(a.g=b,!0):!1}function A(a,b){function c(){var a=k;z(a)&&a.a.parentNode&&b(a.g)}var k=a;l(a.b,c);l(a.c,c);z(a)}function B(a,b){var c=b||{};this.family=a;this.style=c.style||"normal";this.weight=c.weight||"normal";this.stretch=c.stretch||"normal"}var C=null,D=null,E=null,F=null;function G(){if(null===D)if(J()&&/Apple/.test(window.navigator.vendor)){var a=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);D=!!a&&603>parseInt(a[1],10)}else D=!1;return D}function J(){null===F&&(F=!!document.fonts);return F}function K(){if(null===E){var a=document.createElement("div");try{a.style.font="condensed 100px sans-serif"}catch(b){}E=""!==a.style.font}return E}function L(a,b){return[a.style,a.weight,K()?a.stretch:"","100px",b].join(" ")}B.prototype.load=function(a,b){var c=this,k=a||"BESbswy",r=0,n=b||3e3,H=(new Date).getTime();return new Promise(function(a,b){if(J()&&!G()){var M=new Promise(function(a,b){function e(){(new Date).getTime()-H>=n?b(Error(""+n+"ms timeout exceeded")):document.fonts.load(L(c,'"'+c.family+'"'),k).then(function(c){1<=c.length?a():setTimeout(e,25)},b)}e()}),N=new Promise(function(a,c){r=setTimeout(function(){c(Error(""+n+"ms timeout exceeded"))},n)});Promise.race([N,M]).then(function(){clearTimeout(r);a(c)},b)}else m(function(){function v(){var b;if(b=-1!=f&&-1!=g||-1!=f&&-1!=h||-1!=g&&-1!=h)(b=f!=g&&f!=h&&g!=h)||(null===C&&(b=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),C=!!b&&(536>parseInt(b[1],10)||536===parseInt(b[1],10)&&11>=parseInt(b[2],10))),b=C&&(f==w&&g==w&&h==w||f==x&&g==x&&h==x||f==y&&g==y&&h==y)),b=!b;b&&(d.parentNode&&d.parentNode.removeChild(d),clearTimeout(r),a(c))}function I(){if((new Date).getTime()-H>=n)d.parentNode&&d.parentNode.removeChild(d),b(Error(""+n+"ms timeout exceeded"));else{var a=document.hidden;if(!0===a||void 0===a)f=e.a.offsetWidth,g=p.a.offsetWidth,h=q.a.offsetWidth,v();r=setTimeout(I,50)}}var e=new t(k),p=new t(k),q=new t(k),f=-1,g=-1,h=-1,w=-1,x=-1,y=-1,d=document.createElement("div");d.dir="ltr";u(e,L(c,"sans-serif"));u(p,L(c,"serif"));u(q,L(c,"monospace"));d.appendChild(e.a);d.appendChild(p.a);d.appendChild(q.a);document.body.appendChild(d);w=e.a.offsetWidth;x=p.a.offsetWidth;y=q.a.offsetWidth;I();A(e,function(a){f=a;v()});u(e,L(c,'"'+c.family+'",sans-serif'));A(p,function(a){g=a;v()});u(p,L(c,'"'+c.family+'",serif'));A(q,function(a){h=a;v()});u(q,L(c,'"'+c.family+'",monospace'))})})};"object"===typeof module?module.exports=B:(window.FontFaceObserver=B,window.FontFaceObserver.prototype.load=B.prototype.load)})()},{}],3:[function(_dereq_,module,exports){module.exports={noFonts:"Fontsampler: No fonts were passed in.",initFontFormatting:"Fontsampler: Passed in fonts are not in expected format. Expected [ { name: 'Font Name', files: [ 'fontfile.woff', 'fontfile.woff2' ] }, … ]",fileNotfound:"Fontsampler: The passed in file could not be found: ",missingRoot:"Fontsampler: Passed in root element invalid: ",tooManyFiles:"Fontsampler: Supplied more than one woff or woff2 for a font: ",invalidUIItem:"Fontsampler: The supplied UI item is not supported: ",invalidEvent:"Fontsampler: Invalid event type. You can only register Fontsampler events on the Fontsampler instance.",newInit:"Fontsampler: Instantiated Fontsampler without 'new' keyword. Create Fontsamplers using new Fontsampler(…)",dataFontsJsonInvalid:"Fontsampler: The data-fonts JSON failed to parse."}},{}],4:[function(_dereq_,module,exports){var events={init:"fontsampler.events.init"};module.exports=events},{}],5:[function(_dereq_,module,exports){var FontFaceObserver=_dereq_("../node_modules/fontfaceobserver/fontfaceobserver.standalone");var errors=_dereq_("./errors");var supportsWoff2=function(){if(!("FontFace"in window)){return false}var f=new FontFace("t",'url( "data:application/font-woff2;base64,d09GMgABAAAAAADwAAoAAAAAAiQAAACoAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAABmAALAogOAE2AiQDBgsGAAQgBSAHIBuDAciO1EZ3I/mL5/+5/rfPnTt9/9Qa8H4cUUZxaRbh36LiKJoVh61XGzw6ufkpoeZBW4KphwFYIJGHB4LAY4hby++gW+6N1EN94I49v86yCpUdYgqeZrOWN34CMQg2tAmthdli0eePIwAKNIIRS4AGZFzdX9lbBUAQlm//f262/61o8PlYO/D1/X4FrWFFgdCQD9DpGJSxmFyjOAGUU4P0qigcNb82GAAA" ) format( "woff2" )',{});f.load()["catch"](function(){});return f.status==="loading"||f.status==="loaded"}();function getExtension(path){return path.substring(path.lastIndexOf(".")+1)}function bestWoff(files){if(typeof files!=="object"||!Array.isArray(files)){return false}var woffs=files.filter(function(value){return getExtension(value)==="woff"}),woff2s=files.filter(function(value){return getExtension(value)==="woff2"});if(woffs.length>1||woff2s.length>1){throw new Error(errors.tooManyFiles+files)}if(woff2s.length>0&&supportsWoff2){return woff2s.shift()}if(woffs.length>0){return woffs.shift()}return false}function loadFont(file,callback){if(!file){return false}var family=file.substring(file.lastIndexOf("/")+1);family=family.substring(0,family.lastIndexOf("."));family=family.replace(/\W/gm,"");var font=new FontFaceObserver(family);font.load().then(function(f){if(typeof callback==="function"){callback(f)}});if(FontFace){var ff=new FontFace(family,"url("+file+")");ff.load().then(function(){document.fonts.add(ff)}).catch(function(){throw new Error(errors.fileNotfound+file)})}else{var newStyle=document.createElement("style");newStyle.appendChild(document.createTextNode("@font-face { font-family: '"+family+"'; src: url('"+file+"'); }"));document.head.appendChild(newStyle)}}function fromFiles(files,callback){font=bestWoff(files);loadFont(font,callback)}module.exports={loadFont:loadFont,fromFiles:fromFiles}},{"../node_modules/fontfaceobserver/fontfaceobserver.standalone":2,"./errors":3}],6:[function(_dereq_,module,exports){var extend=_dereq_("../node_modules/extend");var Fontloader=_dereq_("./fontloader");var Interface=_dereq_("./interface");var Preloader=_dereq_("./preloader");var errors=_dereq_("./errors");var events=_dereq_("./events");var helpers=_dereq_("./helpers");function Fontsampler(root,fonts,opt){console.debug("Fontsampler()",root,fonts,opt,this);if(this===window){throw new Error(errors.newInit)}var extractedFonts,interface,preloader=new Preloader,defaults;this.initialized=false;if(!root){throw new Error(errors.missingRoot+root)}defaults={initialText:"",multiline:true,lazyload:false,generate:false,classes:{rootClass:"fontsamplerjs",initClass:"fsjs-initialized",loadingClass:"fsjs-loading",preloadingClass:"fsjs-preloading",wrapperClass:"fsjs-wrapper",blockClass:"fsjs-block",elementClass:"fsjs-element",labelClass:"fsjs-label",labelTextClass:"fsjs-label-text",labelValueClass:"fsjs-label-value",labelUnitClass:"fsjs-label-unit",buttonClass:"fsjs-button",buttonSelectedClass:"fsjs-button-selected"},order:[["fontsize","lineheight","letterspacing"],["fontfamily","language"],["alignment","direction","opentype"],"tester"],ui:{tester:{editable:true,label:false},fontfamily:{label:"Font"},fontsize:{unit:"px",init:36,min:8,max:96,step:1,label:"Size"},lineheight:{unit:"%",init:100,min:60,max:120,step:5,label:"Leading"},letterspacing:{unit:"em",init:0,min:-.1,max:.1,step:.01,label:"Letterspacing"},alignment:{choices:["left|Left","center|Centered","right|Right"],init:"left",label:"Alignment"},direction:{choices:["ltr|Left to right","rtl|Right to left"],init:"ltr",label:"Direction"},language:{choices:["en-GB|English","de-De|Deutsch","nl-NL|Dutch"],init:"en-Gb",label:"Language"},opentype:{choices:["liga|Ligatures","frac|Fractions"],init:["liga"],label:"Opentype features"}}};this.root=root;for(var key in defaults.ui){if(opt&&"generate"in opt){defaults.ui[key].render=opt.generate}else{defaults.ui[key].render=!!(opt&&opt.ui&&key in opt.ui)}}defaults.ui.tester.render=true;if(typeof opt==="object"){options=extend(true,defaults,opt)}else{options=defaults}if(typeof opt==="object"&&"order"in opt&&Array.isArray(opt.order)&&opt.order.length){options.order=opt.order}extractedFonts=extractFontsFromDOM();if((!fonts||fonts.length<1)&&extractedFonts){fonts=extractedFonts}if(!fonts){throw new Error(errors.noFonts)}if(!validateFontsFormatting(fonts)){console.error(fonts);throw new Error(errors.initFontFormatting)}interface=Interface(root,fonts,options);function setupUIEvents(){this.root.addEventListener("fontsampler.onfontsizechanged",function(){var val=interface.getCssValue("fontsize");interface.setInputCss(interface.getCssAttrForKey("fontsize"),val)});this.root.addEventListener("fontsampler.onlineheightchanged",function(){var val=interface.getCssValue("lineheight");interface.setInputCss(interface.getCssAttrForKey("lineheight"),val)});this.root.addEventListener("fontsampler.onletterspacingchanged",function(){var val=interface.getCssValue("letterspacing");interface.setInputCss(interface.getCssAttrForKey("letterspacing"),val)});this.root.addEventListener("fontsampler.onopentypechanged",function(){var val=interface.getOpentype();interface.setInputOpentype(val)});this.root.addEventListener("fontsampler.onfontfamilychanged",function(){var val=interface.getValue("fontfamily");loadFont(val)});this.root.addEventListener("fontsampler.onlanguagechanged",function(){var val=interface.getValue("language");interface.setInputAttr("lang",val)});this.root.addEventListener("fontsampler.onalignmentchanged",function(){var val=interface.getButtongroupValue("alignment");interface.setInputCss("textAlign",val)});this.root.addEventListener("fontsampler.ondirectionchanged",function(){var val=interface.getButtongroupValue("direction");interface.setInputAttr("dir",val)})}function validateFontsFormatting(fonts){if(typeof fonts!=="object"||!Array.isArray(fonts)){return false}for(var i=0;i<fonts.length;i++){var font=fonts[i];if(typeof font!=="object"){return false}if(!font.name||!font.files||!Array.isArray(font.files)||font.files.length<=0){return false}}return true}function extractFontsFromDOM(){var select=root.querySelector("[data-property='fontfamily']"),options=[],fonts=[];var rootFonts=extractFontsFromNode(root,true);if(rootFonts){return rootFonts}if(!select){return false}options=select.querySelectorAll("option");for(i=0;i<options.length;i++){var opt=options[i],extractedFonts=extractFontsFromNode(opt,false);if(fonts){fonts=fonts.concat(extractedFonts)}}if(fonts){return fonts}return false}function extractFontsFromNode(node,ignoreName){var fonts=[],singleFont={name:"Default",files:[]};if(node.dataset.fonts){try{fonts=JSON.parse(node.dataset.fonts);return fonts}catch(error){console.error(node.dataset.fonts);throw new Error(errors.dataFontsJsonInvalid)}}if(node.dataset.name){singleFont.name=node.dataset.name}if(node.dataset.woff){singleFont.files.push(node.dataset.woff)}if(node.dataset.woff2){singleFont.files.push(node.dataset.woff2)}if((singleFont.name||!singleFont.name&&ignoreName)&&singleFont.files.length>0){return[singleFont]}return false}function loadFont(indexOrKey){console.debug("Fontsampler.loadFont",indexOrKey);preloader.pause();interface.setStatusClass(options.loadingClass,true);files=[];if(typeof indexOrKey==="string"){files=fonts.filter(function(value,index){return fonts[index].name===indexOrKey}).pop().files}else if(typeof indexOrKey==="number"&&indexOrKey>=0&&indexOrKey<=fonts.length){files=fonts[indexOrKey].files}Fontloader.fromFiles(files,function(f){interface.setInputCss("fontFamily",f.family);interface.setStatusClass(options.loadingClass,false);preloader.resume()})}this.init=function(){console.debug("Fontsampler.init()",this,this.root);interface.init();setupUIEvents.call(this);loadFont(0);if(options.lazyload){interface.setStatusClass(options.preloadingClass,true);preloader.load(fonts,function(){interface.setStatusClass(options.preloadingClass,false)})}this.initalized=true;helpers.nodeAddClass(root,options.classes.initClass);root.dispatchEvent(new CustomEvent(events.init));return this};this.lazyload=function(){if(this.initialized&&fonts){preloader.load(fonts)}};this.registerEventhandler=function(event,callback){if(Object.values(events).indexOf(event)===-1){throw new Error(errors.invalidEvent)}if(typeof callback==="function"){root.addEventListener(event,callback)}};this.setText=function(text){interface.setInputText(text)};return this}module.exports=Fontsampler},{"../node_modules/extend":1,"./errors":3,"./events":4,"./fontloader":5,"./helpers":7,"./interface":8,"./preloader":9}],7:[function(_dereq_,module,exports){function pruneClass(className,classNames){if(!classNames){return""}classNames=classNames.trim();if(!className){return classNames}className=className.trim();var classes=classNames.split(" "),classIndex=classes.indexOf(className);if(classIndex!==-1){classes.splice(classIndex,1)}if(classes.length>0){return classes.join(" ")}else{return""}}function addClass(className,classNames){if(!classNames){classNames=""}classNames=classNames.trim();if(!className){return classNames}className=className.trim();var classes=classNames.split(" "),classIndex=classes.indexOf(className);if(classIndex===-1){if(classNames){return classNames+" "+className}else{return className}}else{return classNames}}function nodeAddClass(node,className){if(!isNode(node)||typeof className!=="string"){return false}node.className=addClass(className,node.className);return true}function nodeAddClasses(node,classes){if(!isNode(node)||!Array.isArray(classes)||classes.length<1){return false}for(var c=0;c<classes.length;c++){node.className=addClass(classes[c],node.className)}return true}function nodeRemoveClass(node,className){if(!isNode(node)||typeof className!=="string"){return false}node.className=pruneClass(className,node.className);return true}function isNode(node){return typeof node==="object"&&node!==null&&"nodeType"in node}module.exports={nodeAddClass:nodeAddClass,nodeAddClasses:nodeAddClasses,nodeRemoveClass:nodeRemoveClass,isNode:isNode}},{}],8:[function(_dereq_,module,exports){var UIElements=_dereq_("./uielements");var helpers=_dereq_("./helpers");var errors=_dereq_("./errors");var selection=_dereq_("./selection");function Interface(_root,fonts,options){var ui={tester:"textfield",fontsize:"slider",lineheight:"slider",letterspacing:"slider",fontfamily:"dropdown",alignment:"buttongroup",direction:"buttongroup",language:"dropdown",opentype:"checkboxes"},keyToCss={fontsize:"fontSize",lineheight:"lineHeight",letterspacing:"letterSpacing"},blocks={},root=null,uifactory=null,input=null,originalText="";function init(){console.debug("Fontsampler.Interface.init()",_root,fonts,options);root=_root;helpers.nodeAddClass(root,options.classes.rootClass);uifactory=UIElements(root,options);options.ui.fontfamily.choices=fonts.map(function(value){return value.name});if(root.childNodes.length===1&&root.childNodes[0].nodeType===Node.TEXT_NODE){originalText=root.childNodes[0].textContent;root.removeChild(root.childNodes[0])}options.originalText=originalText;if(!options.order||!Array.isArray(options.order)){options.order=Object.keys(ui)}for(var i=0;i<options.order.length;i++){var elementA=parseOrder(options.order[i]);if(helpers.isNode(elementA)&&elementA.childNodes.length>0&&!elementA.isConnected){root.appendChild(elementA)}}for(var keyB in options.ui){if(options.ui.hasOwnProperty(keyB)){if(keyB in blocks===false){var elementB=parseOrder(options.ui[keyB]);if(helpers.isNode(elementB)&&elementB.childNodes.length>0&&!elementB.isConnected){root.appendChild(elementB)}}}}input=getElement("tester",blocks.tester);for(var keyC in blocks){if(blocks.hasOwnProperty(keyC)){initBlock(keyC)}}if(!options.multiline){var typeEvents=["keypress","keyup","change","paste"];for(var e in typeEvents){if(typeEvents.hasOwnProperty(e)){blocks.tester.addEventListener(typeEvents[e],onKey)}}}blocks.tester.addEventListener("paste",function(e){e.preventDefault();var text="";if(e.clipboardData||e.originalEvent.clipboardData){text=(e.originalEvent||e).clipboardData.getData("text/plain")}else if(window.clipboardData){text=window.clipboardData.getData("Text")}if(!options.multiline){text=text.replace(/(?:\r\n|\r|\n|<br>)/g," ")}if(document.queryCommandSupported("insertText")){document.execCommand("insertText",false,text)}else{document.execCommand("paste",false,text)}})}function parseOrder(key){var child,wrapper;if(typeof key==="string"){var block=parseBlock(key);return block}else if(Array.isArray(key)){wrapper=document.createElement("div");wrapper.className=options.classes.wrapperClass+" "+key;for(var i=0;i<key.length;i++){child=parseOrder(key[i]);if(child){wrapper.appendChild(child)}}if(wrapper.children.length<1){return false}return wrapper}else{return false}}function parseBlock(key){if(key in ui===false){throw new Error(errors.invalidUIItem+key)}var block=getBlock(key),element=false,label=false,opt=options.ui[key];if(block){console.log(key,"block in DOM");element=getElement(key,block);label=getLabel(key,block);if(options.ui[key].label&&!label){label=uifactory.label(opt.label,opt.unit,opt.init,key);block.appendChild(label);sanitizeLabel(label,key)}else if(label){sanitizeLabel(label,key)}if(!element){element=createElement(key);block.appendChild(element);sanitizeElement(element,key)}else{sanitizeElement(element,key)}sanitizeBlock(block,key);blocks[key]=block;return false}else if(!block&&options.generate||!block&&key==="tester"){block=createBlock(key);blocks[key]=block;return block}return false}function createBlock(key){var block=document.createElement("div"),element=createElement(key),label=false;opt=options.ui[key];if(opt.label){label=uifactory.label(opt.label,opt.unit,opt.init,key);block.append(label);sanitizeLabel(label,key)}block.append(element);sanitizeElement(element,key);sanitizeBlock(block,key);return block}function createElement(key){var element=uifactory[ui[key]](key,options.ui[key]);sanitizeElement(element,key);return element}function sanitizeBlock(block,key){var classes=[options.classes.blockClass,options.classes.blockClass+"-"+key,options.classes.blockClass+"-type-"+ui[key]];helpers.nodeAddClasses(block,classes);block.dataset.fsjsBlock=key}function sanitizeElement(element,key){element=uifactory[ui[key]](key,options.ui[key],element);helpers.nodeAddClass(element,options.classes.elementClass);element.dataset.fsjs=key}function sanitizeLabel(label,key){var text=label.querySelector("."+options.classes.labelTextClass),value=label.querySelector("."+options.classes.labelValueClass),unit=label.querySelector("."+options.classes.labelUnitClass),element=getElement(key);if(text&&text.textContent===""){text.textContent=options.ui[key].label}if(value&&value.textContent===""){value.textContent=element.value}if(unit&&unit.textContent===""){unit.textContent=element.dataset.unit}helpers.nodeAddClass(label,options.classes.labelClass);label.dataset.fsjsFor=key}function initBlock(key){var block=getBlock(key),element=getElement(key,block),type=ui[key],opt=options.ui[key];if(type==="slider"){element.addEventListener("change",onChange);element.val=opt.init;setInputCss(keyToCss[key],opt.init+opt.unit)}else if(type==="dropdown"){element.addEventListener("change",onChange)}else if(type==="buttongroup"){var buttons=element.querySelectorAll("[data-choice]");if(buttons.length>0){for(var b=0;b<buttons.length;b++){buttons[b].addEventListener("click",onClick);if(buttons[b].dataset.choice===options.ui[key].init){helpers.nodeAddClass(buttons[b],options.classes.buttonSelectedClass)}else{helpers.nodeRemoveClass(buttons[b],options.classes.buttonSelectedClass)}}}}else if(type==="checkboxes"){var checkboxes=element.querySelectorAll("[data-feature]");if(checkboxes.length>0){var features={};for(var c=0;c<checkboxes.length;c++){checkboxes[c].addEventListener("change",onCheck);if("features"in checkboxes[c].dataset){features[checkboxes[c].dataset.features]=checkboxes[c].checked?"1":"0"}}setInputOpentype(features)}}return true}function getElement(key,node){if(typeof node==="undefined"){node=root}var element=root.querySelector("[data-fsjs='"+key+"']");return helpers.isNode(element)?element:false}function getBlock(key,node){if(typeof node==="undefined"){node=root}var block=root.querySelector("[data-fsjs-block='"+key+"']");return helpers.isNode(block)?block:false}function getLabel(key,node){if(typeof node==="undefined"){node=root}var block=root.querySelector("[data-fsjs-for='"+key+"']");return helpers.isNode(block)?block:false}function onChange(e){var property=e.target.dataset.fsjs;sendEvent(property)}function onCheck(){var property="opentype";sendEvent(property)}function onClick(e){var parent=e.currentTarget.parentNode,property=parent.dataset.fsjs,buttons=parent.querySelectorAll("[data-choice]");if(property in ui&&ui[property]==="buttongroup"){for(var b=0;b<buttons.length;b++){helpers.nodeRemoveClass(buttons[b],options.classes.buttonSelectedClass)}helpers.nodeAddClass(e.currentTarget,options.classes.buttonSelectedClass);sendEvent(property)}}function sendEvent(type){root.dispatchEvent(new CustomEvent("fontsampler.on"+type+"changed"))}function onKey(event){if(event.type==="keypress"){if(event.keyCode===13){event.preventDefault();return false}}else{var text=blocks.tester.textContent,hasLinebreaks=text.indexOf("\n");if(-1!==hasLinebreaks){blocks.tester.innerHTML(text.replace("/\n/gi",""));selection.setCaret(blocks.tester,blocks.tester.textContent.length,0)}}}function getValue(property){var element=getElement(property);if(element){return element.value}else{return false}}function getCssValue(property){var element=getElement(property);return element?element.value+element.dataset.unit:""}function getOpentype(){if(!blocks.opentype){return false}var features=blocks.opentype.querySelectorAll("[data-feature]");if(features){var re={};for(var f=0;f<features.length;f++){var input=features[f];re[input.dataset.feature]=input.checked}return re}}function getButtongroupValue(key){var element=getElement(key),selected;if(element){selected=element.querySelector("."+options.classes.buttonSelectedClass)}if(selected){return selected.dataset.choice}else{return""}}function getCssAttrForKey(key){if(key in keyToCss){return keyToCss[key]}return false}function getKeyForCssAttr(attr){for(var key in keyToCss){if(keyToCss.hasOwnProperty(key)){if(keyToCss[key]===attr){return key}}}return false}function setInputCss(attr,val){input.style[attr]=val}function setInputAttr(attr,val){input.setAttribute(attr,val)}function setInputOpentype(features){var parsed=[],val;for(var key in features){if(features.hasOwnProperty(key)&&key&&key!=="undefined"){parsed.push('"'+key+'" '+(features[key]?"1":"0"))}}val=parsed.join(",");input.style["font-feature-settings"]=val}function setInputText(text){if(text&&input){input.textContent=text}}function setStatusClass(classString,status){if(status===true){helpers.nodeAddClass(root,classString)}else if(status===false){helpers.nodeRemoveClass(root,classString)}}return{init:init,getValue:getValue,getCssValue:getCssValue,getButtongroupValue:getButtongroupValue,getOpentype:getOpentype,getCssAttrForKey:getCssAttrForKey,getKeyForCssAttr:getKeyForCssAttr,setInputCss:setInputCss,setInputAttr:setInputAttr,setInputOpentype:setInputOpentype,setInputText:setInputText,setStatusClass:setStatusClass}}module.exports=Interface},{"./errors":3,"./helpers":7,"./selection":10,"./uielements":11}],9:[function(_dereq_,module,exports){var Fontloader=_dereq_("./fontloader");function Preloader(){var queue=[],autoload=true,finishedCallback=null;function load(fonts,callback){queue=fonts.slice(0);autoload=true;if(typeof callback==="function"){finishedCallback=callback}loadNext()}function pause(){autoload=false}function resume(){autoload=true;if(queue.length>0){loadNext()}else{if(finishedCallback){finishedCallback()}}}function loadNext(){if(queue.length>0&&autoload){Fontloader.fromFiles(queue[0].files,function(){queue.shift();if(queue.length===0&&finishedCallback){finishedCallback()}if(queue.length>0&&autoload){loadNext()}})}}return{load:load,pause:pause,resume:resume}}module.exports=Preloader},{"./fontloader":5}],10:[function(_dereq_,module,exports){function Selection(){var setSelectionByCharacterOffsets=null;if(window.getSelection&&document.createRange){setSelectionByCharacterOffsets=function(containerEl,start,end){var charIndex=0,range=document.createRange();range.setStart(containerEl,0);range.collapse(true);var nodeStack=[containerEl],node,foundStart=false,stop=false;while(!stop&&(node=nodeStack.pop())){if(node.nodeType==3){var nextCharIndex=charIndex+node.length;if(!foundStart&&start>=charIndex&&start<=nextCharIndex){range.setStart(node,start-charIndex);foundStart=true}if(foundStart&&end>=charIndex&&end<=nextCharIndex){range.setEnd(node,end-charIndex);stop=true}charIndex=nextCharIndex}else{var i=node.childNodes.length;while(i--){nodeStack.push(node.childNodes[i])}}}var sel=window.getSelection();sel.removeAllRanges();sel.addRange(range)}}else if(document.selection){setSelectionByCharacterOffsets=function(containerEl,start,end){var textRange=document.body.createTextRange();textRange.moveToElementText(containerEl);textRange.collapse(true);textRange.moveEnd("character",end);textRange.moveStart("character",start);textRange.select()}}function getCaretCharacterOffsetWithin(element){var caretOffset=0;var doc=element.ownerDocument||element.document;var win=doc.defaultView||doc.parentWindow;var sel;if(typeof win.getSelection!="undefined"){sel=win.getSelection();if(sel.rangeCount>0){var range=win.getSelection().getRangeAt(0);var preCaretRange=range.cloneRange();preCaretRange.selectNodeContents(element);preCaretRange.setEnd(range.endContainer,range.endOffset);caretOffset=preCaretRange.toString().length}}else if((sel=doc.selection)&&sel.type!="Control"){var textRange=sel.createRange();var preCaretTextRange=doc.body.createTextRange();preCaretTextRange.moveToElementText(element);preCaretTextRange.setEndPoint("EndToEnd",textRange);caretOffset=preCaretTextRange.text.length}return caretOffset}return{setCaret:setSelectionByCharacterOffsets,getCaret:getCaretCharacterOffsetWithin}}module.exports=Selection},{}],11:[function(_dereq_,module,exports){var helpers=_dereq_("./helpers");function UIElements(root,options){function label(labelText,labelUnit,labelValue,relatedInput){var label=document.createElement("label"),text=document.createElement("span"),val,unit;label.dataset.for=relatedInput;helpers.nodeAddClass(label,options.classes.labelClass);text.className=options.classes.labelTextClass;text.appendChild(document.createTextNode(labelText));label.appendChild(text);if(typeof labelUnit==="string"&&labelValue!==""){val=document.createElement("span");val.className=options.classes.labelValueClass;val.appendChild(document.createTextNode(labelValue));label.appendChild(val);unit=document.createElement("span");unit.className=options.classes.labelUnitClass;unit.appendChild(document.createTextNode(labelUnit));label.appendChild(unit)}return label}function slider(key,opt,node){var input=helpers.isNode(node)?node:document.createElement("input");var attributes={type:"range",min:opt.min,max:opt.max,step:opt.step};input.setAttribute("autocomplete","off");setMissingAttributes(input,attributes);if(typeof input.val==="undefined"){input.value=opt.init}if("unit"in input.dataset===false){input.dataset.unit=opt.unit}if("init"in input.dataset===false){input.dataset.init=opt.init}input.dataset.fsjs=key;return input}function dropdown(key,opt){var dropdown=document.createElement("select");dropdown.dataset.fsjs=key;for(var o in opt.choices){var option=document.createElement("option"),choice=parseChoice(opt.choices[o]);option.value=choice.val;option.appendChild(document.createTextNode(choice.text));dropdown.appendChild(option)}return dropdown}function textfield(key,opt,node){var tester=typeof node==="undefined"||node===null?document.createElement("div"):node,attr={autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",contenteditable:opt.editable};setMissingAttributes(tester,attr);tester.dataset.fsjs=key;if(!tester.dataset.replaceText){if(options.initialText){tester.append(document.createTextNode(options.initialText))}else if(!options.initialText&&options.originalText){tester.append(document.createTextNode(options.originalText))}tester.dataset.replaceText=true}return tester}function buttongroup(key,opt){var group=document.createElement("div");group.dataset.fsjs=key;for(var o in opt.choices){var button=document.createElement("button"),choice=parseChoice(opt.choices[o]);button.dataset.choice=choice.val;button.appendChild(document.createTextNode(choice.text));helpers.nodeAddClass(options.classes.buttonClass);if(opt.init===choice.val){button.className=options.classes.buttonSelectedClass}group.appendChild(button)}return group}function checkboxes(key,opt){var group=document.createElement("div");group.dataset.fsjs=key;for(var o in opt.choices){if(opt.choices.hasOwnProperty(o)){var choice=parseChoice(opt.choices[o]),label=document.createElement("label"),checkbox=document.createElement("input"),text=document.createElement("span");checkbox.setAttribute("type","checkbox");checkbox.dataset.feature=choice.val;if(opt.init.indexOf(Object.values(choice)[0])!==-1){checkbox.checked=true}text.appendChild(document.createTextNode(choice.text));label.appendChild(checkbox);label.appendChild(text);group.append(label)}}return group}function parseChoice(choice){var parts,val,text;if(choice.indexOf("|")!==-1){parts=choice.split("|");val=parts[0];text=parts[1]}else{val=choice;text=choice}return{val:val,text:text}}function setMissingAttributes(node,attributes){if(typeof node==="undefined"||node===null||typeof attributes!=="object"){return}for(var a in attributes){if(attributes.hasOwnProperty(a)){if(!node.hasAttribute(a)){node.setAttribute(a,attributes[a])}}}}return{dropdown:dropdown,slider:slider,label:label,textfield:textfield,buttongroup:buttongroup,checkboxes:checkboxes}}module.exports=UIElements},{"./helpers":7}]},{},[6])(6)})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}]},{},[1])(1)});
