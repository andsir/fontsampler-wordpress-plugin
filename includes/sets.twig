{% extends('layout.twig') %}

{% block content %}

<h1>Font samplers</h1>

{% if sets is empty %}
    <em>No sets created yet.</em>
    <p>This is where your created font samplers will be listed once you've added some below.</p>
{% else %}
    <p>Listed here are all the font samplers you have created so far.</p>
    <p>A font sampler is a number (or just one) font set and settings that are used to display a interface for testing a
        font (or several in one).</p>
    <p>You can include your font samplers on any page or post by adding the respective shortcode listed in the table
        below.</p>

    {% include 'pagination.twig' %}

    <table>
        <thead>
        <tr>
            <th>Fonts<br>
                <small>List one or more font sets used in this sampler</small>
            </th>
            <th>Preview<br>
                <small>Font without interface options; Note that this display uses the supplied formats.</small>
            </th>
            <th>Shortcode<br>
                <small>Copy this code including brackets and insert them where you want to render the font sampler
                </small>
            </th>
            <th>Edit</th>
            <th>Delete</th>
        </tr>
        </thead>
        <tbody id="fontsampler-admin-tbody-ajax">
        {% for set in sets %}
            <tr>
                <td>
                    <ul>
                        {% for font in set.fonts %}
                            <li>
                                <a href="?page=fontsampler&amp;subpage=font_edit&amp;id={{ font.id }}">{{ font.name }}</a>
                            </li>
                        {% endfor %}
                    </ul>
                </td>
                <td>
                    <ul>
                        <?php foreach ( $set['fonts'] as $font ) : ?>
                        <li>
                            <div class="fontsampler-preview"
                                 data-font-files='<?php echo $this->helpers->fontfiles_JSON( $font ); ?>'><?php echo $font['name']; ?></div>
                        </li>
                        <?php endforeach; ?>
                    </ul>
                </td>
                <td><code>[fontsampler id={{ set.set_id }}]</code></td>
                <td>
                    <form method="post" action="?page=fontsampler&amp;subpage=set_edit&amp;id={{ set.set_id }}"
                          style="display: inline-block;">
                        {{ submit_button('Edit set') }}
                    </form>
                </td>
                <td>
                    <form method="post" action="?page=fontsampler&amp;subpage=set_delete&amp;id={{ set.set_id }}"
                          style="display: inline-block;">
                        <input type="hidden" name="id" value="{{ set.set_id }}">
                        {{ submit_button('Delete set', 'delete') }}
                    </form>
                </td>
            </tr>

        {% endfor %}
        </tbody>
    </table>

    {% include 'pagination.twig' %}

{% endif %}

<a class="button button-primary" href="?page=fontsampler&amp;subpage=set_create">Create a new font sampler</a>

{% endblock %}